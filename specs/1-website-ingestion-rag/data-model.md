# Data Model: Website Ingestion & Vectorization for RAG

**Feature**: 1-website-ingestion-rag
**Created**: 2025-12-14
**Model Version**: 1.0

## Entity: Documentation Page

**Description**: Represents a single page of documentation extracted from a Docusaurus site

**Attributes**:
- `url`: String (required) - The full URL of the documentation page
- `title`: String (required) - The page title extracted from HTML
- `content`: String (required) - The cleaned text content of the page
- `created_at`: DateTime (required) - Timestamp when page was crawled
- `updated_at`: DateTime (required) - Timestamp when page was last updated
- `word_count`: Integer (optional) - Number of words in the content
- `headers`: List[String] (optional) - H1, H2, H3 headers found in the page

**Validation Rules**:
- URL must be a valid HTTP/HTTPS address
- Content must not exceed 100,000 characters to prevent memory issues
- Title must not be empty

## Entity: Text Chunk

**Description**: A segment of documentation content that has been processed for embedding

**Attributes**:
- `id`: String (required) - Unique identifier for the chunk
- `document_url`: String (required) - Reference to the source documentation page
- `content`: String (required) - The text content of the chunk
- `chunk_index`: Integer (required) - Position of the chunk in the original document
- `metadata`: Dict (required) - Additional metadata including source URL, title, etc.
- `token_count`: Integer (optional) - Number of tokens in the chunk

**Validation Rules**:
- Content must be between 100 and 2000 characters (approximately)
- Document URL must reference an existing documentation page
- Chunk index must be non-negative

## Entity: Vector Embedding

**Description**: High-dimensional numerical representation of text content generated by Cohere API

**Attributes**:
- `id`: String (required) - Unique identifier matching the text chunk ID
- `vector`: List[Float] (required) - The embedding vector (dimension depends on model)
- `chunk_id`: String (required) - Reference to the source text chunk
- `model_name`: String (required) - Name of the embedding model used
- `created_at`: DateTime (required) - Timestamp when embedding was generated

**Validation Rules**:
- Vector must have consistent dimensions based on the model
- Chunk ID must reference an existing text chunk
- Model name must be a valid Cohere model

## Entity: Qdrant Point

**Description**: A point in the Qdrant vector database containing the embedding and metadata

**Attributes**:
- `point_id`: String (required) - Unique identifier in Qdrant
- `vector`: List[Float] (required) - The embedding vector
- `payload`: Dict (required) - Metadata including document URL, title, content, etc.
- `collection_name`: String (required) - Name of the collection ("rag_embedding")

**Validation Rules**:
- Point ID must be unique within the collection
- Vector dimensions must match collection configuration
- Payload must contain required metadata fields

## Entity: Qdrant Collection

**Description**: Container in Qdrant Cloud that holds vector embeddings with metadata

**Attributes**:
- `name`: String (required) - Collection name ("rag_embedding")
- `vector_size`: Integer (required) - Dimension of vectors in the collection
- `distance_function`: String (required) - Distance function for similarity search (e.g., Cosine, Euclidean)
- `created_at`: DateTime (required) - Timestamp when collection was created

**Validation Rules**:
- Collection name must follow Qdrant naming conventions
- Vector size must match the embedding model dimensions
- Distance function must be supported by Qdrant